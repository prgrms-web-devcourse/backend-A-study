# OSI 7 계층

[toc]

> 작성 중인 포스팅입니다. 각 계층에 대한 자세한 설명은 포스팅 후 링크로 연결할 예정입니다. 

## 1. OSI 7 계층

### OSI 7 계층이란?

> OSI(Open System Interconnection) 7계층은 국제 표준화 기구인 (ISO)에서 개발한 모델로, 컴퓨터 네트워크 프로토콜 디자인과 통신을 계층으로 나누어 설명한 것이다. 
>
> - 계층이라는 이름에서 유추할 수 있듯이 **각 계층은 하위 계층의 기능만을 이용하고, 상위 계층에게 기능을 제공한다.**

서로 다른 네트워크 간 통신을 할 때 **원활한 통신을 위해 OSI 7 계층을 참조해서 설계하도록 권고하는 권고안(표준 규격)**이다. 모든 사람들이 제각각의 방식으로 통신을 하게 되면 원활한 통신이 이루어지기 어렵기 때문이다. 그렇기에 꼭 지켜야 할 필요는 없지만 지키지 않을 경우는 원활한 통신은 보장되지 않는다. 

> 요약하자면 다양한 사람들과 통신을 원활하게 하기 위해서 서로 어떻게 통신할 지에 대한 약속을 한 것을 `프로토콜`이라고 하고, 이러한 프로토콜을 7개의 계층으로 묶어서 체계화 한 것이 `OSI 7 계층`이라고 이해하면 된다.

### OSI 7 계층을 나눈 이유

> **통신이 일어나는 과정을 단계별로 파악할 수 있기 때문이다.** 7 계층 중 특정한 곳에 이상이 생기면 다른 계층의 장비 및 소프트웨어를 건들이지 않아도 **이상이 생긴 단계만 고칠 수 있다.** 

간단한 예시로 PC방에 대한 설명을 해보겠다. PC방은 다수의 컴퓨터를 가지고 있는 공간이다. 여기서 만약 전체 PC에 문제가 생긴다면 우리는 와이파이나 유선 랜이 문제가 있을 것이라 생각할 것이고, 내 PC에만 문제가 있다면 소프트웨어에 문제가 있나? 라고 생각할 것이다. 

그렇다면 OSI 7 계층을 알고 있는 사람이 문제를 파악한다고 생각해보자. 대략적으로 다음과 같이 파악해 볼 수 있을 것이다.

- 모든 PC 문제가 있을 경우
  - 라우터 문제 => 네트워크 계층 `3계층`
  - 광랜을 제공하는 회사의 회선 문제 => 물리 계층 `1계층`
- 내 PC만 문제가 있을 경우
  - 소프트웨어 문제 => 응용 계층 `7계층`
  - 스위치 문제 => 데이터링크 계층 `2계층`

> 따라서 위의 예시처럼 어떤 부분이 문제가 되는지 어디를 고쳐야 하는지 쉽게 파악 할 수 있기 때문에 다른 부분을 건들이지 않고 문제되는 부분만 고칠 수 있게 되는 것이다.

### OSI 7 계층의 캡슐화, 역캡슐화

> OSI 7 계층은 물리, 데이터 링크, 네트워크, 전송, 세션, 표현, 응용으로 나뉘어진다. 
>
> - 각 계층에서 데이터를 전송할 때 필요한 정보(헤더)를 붙여 다음 계층에 보내는데, 이처럼 헤더를 붙여나가는 것을 캡슐화(encapsulation)라고 한다.
> - 캡슐화의 반대 개념으로 헤더를 제거하는 것을 역캡슐화(decapsulation)화라고 한다.

![img](https://raw.githubusercontent.com/soo5717/Typora-image/velog/img/osi-7-layer.png)

**[이미지 출처 : nellholic108님 네트워크 OSI 7 계층](https://velog.io/@nellholic108/%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-OSI-7-%EA%B3%84%EC%B8%B5)**

OSI 7 계층에서는 데이터를 보낼 때(송신)는 상위 계층(7계층) -> 하위 계층(1계층) 순으로 데이터를 전달한다. 데이터를 받을 때(수신)는 반대로  하위 계층(1계층) -> 상위 계층(7계층) 순으로 전달된 데이터를 받게 된다. **데이터를 송신하는 과정에서는 캡슐화가 되고  데이터를 수신 받을 때 역캡슐화가 되는 것이다.**

> 간단하게 비유하면 데이터를 보낼 때는 [마트료시카](https://www.google.com/search?q=%EB%A7%88%ED%8A%B8%EB%A3%8C%EC%8B%9C%EC%B9%B4&source=lnms&tbm=isch&sa=X&ved=2ahUKEwiX3de6xqvyAhWTN5QKHapQCuEQ_AUoAXoECAEQAw&biw=770&bih=722)처럼 작은 인형을 큰 인형 안에 넣는 것이고, 데이터를 받을 때는 인형들을 하나씩 여는 것이다.



## 2. OSI 7 계층의 계층별 프로토콜과 기능

> 그렇다면 이런 각 계층들은 어떤 역할을 하는 것일까? 지금부터 함께 알아보자.

### 7계층 : 응용 계층(Application Layer)

> 응용 프로세스와 직접 관계하여 일반적인 응용 서비스를 수행한다.
>
> - 네트워크 소프트웨어의 UI 부분, 사용자의 입출력 부분을 담당한다.

![image-20210812192529916](https://raw.githubusercontent.com/soo5717/Typora-image/velog/img/image-20210812192529916.png)

### 6계층 : 표현 계층(Presentation Layer)

> 데이터 표현이 상이한 응용 프로세스의 독립성을 제공하고 암호화한다.
>
> - 코드 간의 번역을 담당하여 사용자 시스템에서 데이터의 형식상 차이를 다루는 부담을 응용 계층으로 덜어준다.
> - 해당 데이터가 텍스트인지, 그림인지, GIF인지, JPG인지의 구분 등의 역할을 한다.

![image-20210812192526229](https://raw.githubusercontent.com/soo5717/Typora-image/velog/img/image-20210812192526229.png)

### 5계층 : 세션 계층(Session Layer)

> 데이터가 통신하기 위한 논리적인 연결을 한다.
>
> - **세션 설정, 유지, 종료, 전송 중단시 복구 등의 기능**이 있다.
>
> - 양 끝단의 응용 프로세스가 통신을 관리하기 위한 방법을 제공한다.

![image-20210812192522100](https://raw.githubusercontent.com/soo5717/Typora-image/velog/img/image-20210812192522100.png)

### 4계층 : 전송 계층(Transport Layer)

> 통신을 활성화하기 위한 계층이다. 
>
> - 일반적으로 TCP 프로토콜을 사용하며, 포트를 열어서 응용 프로그램을 전송한다.

![image-20210812192517461](https://raw.githubusercontent.com/soo5717/Typora-image/velog/img/image-20210812192517461.png)

#### 대표적인 프로토콜 2가지

> **TCP 프로토콜**
> 데이터를 발신하는 쪽에서 수신자가 온전한 데이터를 받을 수 있도록 하는 책임이 있음.
> 따라서 데이터가 제대로 전달되지 않은 경우 이를 재전송 해야함.

> **UDP 프로토콜**
> 데이터를 발신하는 쪽에서 수신자가 온전한 데이터를 받을 수 있도록 하는 책임이 없음.
> 따라서 데이터가 제대로 전달되지 않은 경우에도 재전송하지 않음.

### 3계층 : 네트워크 계층(Network Layer)

> 데이터를 목적지까지 가장 안전하고 빠르게 전달하는 기능(라우팅)을 한다.
>
> -  경로를 선택하고 주소를 정하고(IP 주소를 사용) 경로에 따라 패킷을 전달해주는 역할을 한다. 

![image-20210812192512710](https://raw.githubusercontent.com/soo5717/Typora-image/velog/img/image-20210812192512710.png)

### 2계층 : 데이터 링크 계층(Data Link Layer)

> 물리 계층을 통해 송수신되는 정보의 오류와 흐름을 관리하여 안전한 정보의 수행을 도와주는 역할을 한다.  
>
> - 맥 주소(MAC Address)를 가지고 통신한다.

![image-20210812192508516](https://raw.githubusercontent.com/soo5717/Typora-image/velog/img/image-20210812192508516.png)

### 1계층 : 물리 계층(Physical Layer)

> 전기적, 기계적, 기능적 특성을 이용하여 통신 케이블로 데이터를 전송한다. 
>
> - 사용되는 통신 단위는 비트(Bit)로 0 또는 1만 나타낼 수 있다.

![image-20210812192501989](https://raw.githubusercontent.com/soo5717/Typora-image/velog/img/image-20210812192501989.png)

### **참고 자료**

- [위키피디아 OSI 모형](https://ko.wikipedia.org/wiki/OSI_%EB%AA%A8%ED%98%95)
- [nellholic108님 네트워크 OSI 7 계층](https://velog.io/@nellholic108/%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-OSI-7-%EA%B3%84%EC%B8%B5)
- [OSI 7 계층이란?, OSI 7 계층을 나눈 이유](https://shlee0882.tistory.com/110)
- [그림으로 배우는 네트워크 이야기 [OSI Layer/네트워크]](https://youtu.be/aTPy201F0AA)
- [[네트워크] OSI 7계층, TCP/IP 4계층 모델](https://devowen.com/344)