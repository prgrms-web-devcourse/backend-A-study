# Network | IP주소, IPv4와 IPv6

## IP (Internet Protocol)

> 송신 호스트와 수신 호스트가 패킷 교환 네트워크에서 정보를 주고받는데 사용하는 정보 위주의 **규약(프로토콜)**
>
> - **OSI 3계층인 네트워크 계층에서 호스트의 주소 지정과 패킷 분할 및 조립 기능을 담당한다.**
> - IP의 정보는 패킷 or 데이터그램이라고 하는 덩어리로 나뉘어 전송된다.



## IP 주소 

> 네트워크상의 장치들이 **서로를 인식하고 통신을 하기 위해서 사용하는 특수한 번호**이다.
>
> - IP 주소를 줄여서 IP라고 부르기도 하지만, IP는 인터넷 규약 자체를 가리키는 말이기 때문에 엄밀하게는 구별되어야 한다. **IP와 IP 주소는 다른 개념이다.**

좀 더 이해하기 쉽게 비유적으로 설명하면 MAC 주소는 주민등록 번호와 같고 **IP 주소의 경우 거주지 주소**와 같다. 주민등록 번호 같은 경우는 태어난 이후로 변하지 않지만, 거주지 주소의 경우 이사를 하면 변할 수 있다. 

- 그렇기에 기기에 종속되어 변하지 않는 MAC 주소와 달리 **IP 주소는 달라질 수 있다.** 

### IP 주소 확인

내 컴퓨터의 IP 주소를 알고 싶을 땐 CMD에 `ipconfig` 명령어를 치면 다음과 같이 IP 주소를 확인할 수 있다. (Window 기준)

![image-20210907122407817](https://raw.githubusercontent.com/soo5717/Typora-image/velog/img/image-20210907122407817.png)

여기서 보이는 **IPv4 주소가 내 컴퓨터의 IP 주소**이다. 위의 사진에서는 `172.30.1.50`이 내 컴퓨터의 IP 주소가 된다. 

### IP 주소 체계

> IP 주소 체계는 계층적 구조 형식을 띠고 있다.

계층적 구조라고 하면 어려워 보일 수 있는데 우리가 사는 세계의 주소 체계를 떠올려보자. 택배로 우편물을 보내기 위해서 우리는 가장 먼저 시를 적을 것이다. 그러고 나서 시에 해당하는 구를 적을 것이다. **이런 식으로 큰 분류가 있고 그 안에 세부적인 분류가 존재하는 것이 계층적 구조이다.**

그렇다면 왜 이렇게 계층적으로 분류하는 것일까? 배달을 편하게 하기 위해서이다. 예를 들면 서울특별시 용산구 프로그래머스동 A아파트 101동 1004호로 택배를 보내려고 한다면 우리는 일차적으로 서울에 있는 집하 센터로 보내게 되고 거기에서 구 or 동별로 분리한 후 배송을 하는 시스템이 되는 것이다. 배달도 쉽고 찾기도 쉬워지니 효율적인 배송 시스템이 된다.

다른 예시로 전화번호를 들 수도 있는데 우리는 02로 전화가 오면 서울이라는 것을 바로 알 수 있고 다른 지역 번호로 전화가 오면 다른 지역이라는 것을 빠르게 알 수 있다. 또한 같은 전화번호를 가지고 있더라도 지역 번호가 다르면 전혀 다른 곳으로 전화가 갈 수도 있다는 것을 알고 있다. 이런 것이 계층적 구조이다.

> 정리하면 많은 장치들을 효율적으로 관리하면서 수많은 장치들 간의 효율적 통신을 위해 주소 체계를 계층적 구조로 만들어 놓은 것이다.



## IPv4와 IPv6

> 현재 인터넷에서 사용하는 표준 프로토콜은 IPv4이고, 주소 공간 고갈 문제를 겪고 있어서 IPv6가 점차 확산되고 있다.
>
> - **IPv4의 경우 32bit로 약 43억 개**를 사용할 수 있고, **IPv6의 경우 128bit로 약 340간**을 사용할 수 있다.

### IPv4 

> `IPv4`는 Internet Protocol version 4의 약어로, `32bit` 주소 체계를 갖는 네트워크 계층의 프로토콜이다. 

![Ipv4_address](https://raw.githubusercontent.com/soo5717/Typora-image/velog/img/Ipv4_address.png)

- 32bit 주소 체계로 **닷(.)으로 구분하는 4개의 옥텟(8bit 묶음)으로 구성**되어 있다.
  - **10진수로 표현하면 각각의 옥텟은 0~255로 표현할 수 있다.**
- IPv4로 표현 가능한 IP 주소는 0.0.0.0~255.255.255.255이다. 
  - 이 중 일부 번호들은 특별한 용도를 위해 예약되어 있다. Ex) 127.0.0.1 => localhost
  - 그렇기에 **인터넷 사용자의 증가(인터넷 사용 인구 증가 및 IoT 장비 증가)로 인해 주소 공간이 고갈되어 128bit 주소 체계를 갖는 IPv6가 등장**하여 점차 확산하고 있다.

### IPv6

> `IPv6`는 Internet Protocol version 6의 약어로, `128bit` 주소 체계를 갖는 네트워크 계층의 프로토콜이다. 

![Ipv6_address_leading_zeros](https://raw.githubusercontent.com/soo5717/Typora-image/velog/img/Ipv6_address_leading_zeros.png)

- 128bit 주소 체계로 **콜론(:)으로 구분하는 8개의 4자리 16진수로 구성**되어 있다.
  - 콜론으로 구분되는 각 부분의 맨 앞 연속되는 0은 생략할 수 있다.
  - 연속되는 0은 콜론 2개(::)로 표현될 수 있다.

| **IPv6**                                    | **설명**                                                     |
| ------------------------------------------- | ------------------------------------------------------------ |
| 2607:f0d0:1002:51::4                        | 16bit를 16진수로 표현하면 4개의 16진수가 있어야 하는데 51의 경우 2개 밖에 없으니 앞에 0이 생략된 것이다. |
| 2607:f0d0:1002:**0051**::4                  | 맨 뒤의 4도 위의 설명과 동일하게 앞에 0이 생략된 것이다.     |
| 2607:f0d0:1002:0051::**0004**               | 총 8부분으로 구성되어야 하는데 5 부분밖에 없는데 중간에 ::가 있다. 이는 연속되는 0이 생략된 것이다. |
| 2607:f0d0:1002:0051:**0000:0000:0000**:0004 | 최종적으로는 다음과 같은 주소가 된다.                        |

### 참고 링크

- [위키백과 - IP 주소](https://ko.wikipedia.org/wiki/IP_%EC%A3%BC%EC%86%8C)

- [[네트워크] IP주소란? IPv4와 IPv6. IP주소는 왜 필요한가? 내 컴퓨터 IP 확인하는 법](https://jhnyang.tistory.com/245)